\documentclass{article}
\usepackage[usegeometry]{typearea}% load before geometry
\usepackage{geometry}
\usepackage{paralist}
\usepackage[T1]{fontenc}
\usepackage{reledmac}
\usepackage{changepage}
\usepackage{amsmath}
\usepackage{scalerel,amssymb}
\usepackage{colortbl}

\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{booktabs}
\usepackage{tikz}
\usetikzlibrary{positioning}
\usetikzlibrary{shapes.geometric, arrows}
\tikzstyle{arrow} = [thick,->,>=stealth]

%\usepackage{layout}
%\usepackage{showframe}

\graphicspath{ {./images/} }

\usepackage{fancyhdr}
\fancyhead[L]{
	\begin{tabular}{l}
		\LARGE \textbf{\textsc{Cryptographic Protocols}} \\
		\large Exercise 04
	\end{tabular}
}
\fancyhead[R]{
	\begin{tabular}{r}
		16-124-836 \\
		Marcel \textsc{Zauder}
	\end{tabular}
}
\renewcommand{\headrulewidth}{0.4pt}
\fancyfoot[C]{\thepage}
\renewcommand{\footrulewidth}{0.4pt}

\pgfplotstableset{% global config, for example in the preamble
  every head row/.style={before row=\toprule,after row=\midrule},
  every last row/.style={after row=\bottomrule},
  fixed,precision=6,
}

\usepackage{hyperref}
\begin{document}
	%\KOMAoptions{paper=landscape,DIV=last}
	%\newgeometry{hmargin=2.5cm,bottom=25mm,height=150mm,includehead, textheight= 480pt}
	%\fancyheadoffset{0pt}% recalculate headwidth for fancyhdr
	\pagestyle{fancy}
	\hfill
	
	\section*{4.2 Additively homomorphic ElGamal encryption}
	\begin{adjustwidth}{2em}{2em}
		\pgfplotstabletypeset[
  		columns/maxVal/.style={column name=Value (MAX), column type = {r|}},
  		columns/time1/.style={column name=Time (First), column type = {l}},
  		columns/time2/.style={column name=Time (Second), column type = {l}},
		]{data_ElGamal.txt}
		
		\begin{figure}[h!]
			\begin{tikzpicture}
				\begin{axis}[
					height = 5cm,
					width = 11cm,
   					xlabel={Value (MAX)},
   					ylabel={Time [s]},
    				legend pos=south east,
    				legend entries={First, Second},
    				scaled x ticks=false,
    				]
  					\addplot table [x=maxVal,y=time1] {data_ElGamal.txt};
  					\addplot table [x=maxVal,y=time2] {data_ElGamal.txt};
				\end{axis}
			\end{tikzpicture}
		\end{figure}
		\noindent As we can see for both bit lengths of $P$ and $Q$ the time increases linearly with the value of \textit{MAX}. Also one can see that the difference between the first stage and second is pretty much equal to a tripling of the time needed. This is what we would expect because the length of $P$ is doubled and $Q \ \approx \ 1.5$ times the first value. Therefore the execution time is also  linearly dependent from those values.
		\subsection*{4.2.BONUS Reduce the time of Decryption}
		\begin{adjustwidth}{2em}{}
			One could make the code multithreaded, such that each thread takes one number from a "token generator" and runs the code with this number. After termination of one thread it gets another number/token from the "token generator" until one found the right value for max and the whole program terminates. The speedup of this code would be equivalent to how many threads one can run because every computational step for each number is independent from each other.
		\end{adjustwidth}
	\end{adjustwidth}
\end{document}
